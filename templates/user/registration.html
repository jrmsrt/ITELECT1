{% extends 'user/form_header.html' %}

{% block content %}

<title>Register - BookHaven</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/user/registration.css') }}">
<script src="/static/js/toggle_password.js"></script>

<div class="main-container">
    <!-- Signup Form -->
    <div class="signup-card">
        <a href="{{ url_for('home') }}" class="back-home">
            <i class="fa-solid fa-arrow-left"></i> Back to Home
        </a>
        <h1 class="signup-title">Create Account</h1>

        <form method="post" action="" id="registrationForm" novalidate>
            {% if msg %}
            <div class="alert error" id="alertBox">
                <span class="alert-text">{{ msg }}</span>
                <button type="button" class="close-btn" onclick="closeAlert()">×</button>
            </div>
            {% else %}
            <div class="alert error" id="alertBox" style="display:none;">
                <span class="alert-text"></span>
                <button type="button" class="close-btn" onclick="closeAlert()">×</button>
            </div>
            {% endif %}
            <div class="form-grid">
                <!-- First Name -->
                <div class="form-group">
                    <label class="form-label" for="firstName">First Name</label>
                    <input
                        class="form-input"
                        type="text"
                        id="firstName"
                        name="firstName"
                        placeholder="Enter your first name"
                        value="{{ firstName or '' }}"
                        required
                    >
                    <small id="firstNameError" class="field-error"></small>
                </div>

                <!-- Last Name -->
                <div class="form-group">
                    <label class="form-label" for="lastName">Last Name</label>
                    <input
                        class="form-input"
                        type="text"
                        id="lastName"
                        name="lastName"
                        placeholder="Enter your last name"
                        value="{{ lastName or '' }}"
                        required
                    >
                    <small id="lastNameError" class="field-error"></small>
                </div>

                <!-- Email -->
                <div class="form-group">
                    <label class="form-label" for="email">Email</label>
                    <input
                        class="form-input"
                        type="email"
                        id="email"
                        name="email"
                        placeholder="your@gmail.com"
                        value="{{ email or '' }}"
                        required
                    >
                    <small id="emailError" class="field-error"></small>
                </div>

                <!-- Username -->
                <div class="form-group">
                    <label class="form-label" for="username">Username</label>
                    <input
                        class="form-input"
                        type="text"
                        id="username"
                        name="username"
                        placeholder="Choose a username"
                        value="{{ username or '' }}"
                        required
                    >
                    <small id="usernameError" class="field-error"></small>
                </div>

                <!-- Password -->
                <div class="form-group">
                    <label class="form-label" for="password">Password</label>
                    <div class="password-wrapper">
                        <input
                            class="form-input"
                            type="password"
                            id="password"
                            name="password"
                            placeholder="Enter your password"
                            required
                        >
                        <i class="fa fa-eye toggle-password" id="togglePassword"></i>
                    </div>
                    <small id="passwordError" class="field-error"></small>
                </div>

                <!-- Confirm Password -->
                <div class="form-group">
                    <label class="form-label" for="confirmPassword">Confirm Password</label>
                    <div class="password-wrapper">
                        <input
                            class="form-input"
                            type="password"
                            id="confirmPassword"
                            name="confirmPassword"
                            placeholder="Confirm your password"
                            required
                        >
                        <i class="fa fa-eye toggle-password" id="toggleConfirmPassword"></i>
                    </div>
                    <small id="confirmPasswordError" class="field-error"></small>
                </div>
            </div>

            <div class="form-group" style="grid-column: span 2; margin-top: 10px; margin-bottom: 20px; text-align: center;">
                <p style="font-size: 0.9rem; color: #64748b;">
                    By continuing, you are agreeing to VigiLink's
                    <a href="" style="color: #4a6cf7; text-decoration: none; font-weight: 600;">Terms of Service</a>
                    and
                    <a href="" style="color: #4a6cf7; text-decoration: none; font-weight: 600;">Privacy Policy</a>.
                </p>
            </div>

            <button type="submit" class="submit-btn" id="submitBtn">Submit</button>
            <script src="/static/js/validation.js"></script>
        </form>

        <div class="login-link">
            Already have an account?
            <a href="{{ url_for('user_login') }}">Login Here</a>
        </div>
    </div>
</div>

{% endblock %}
